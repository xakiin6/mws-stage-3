self.onmessage=function(e){switch(e.data.method){case"N":n();break;case"C":c(e.data.data);break;case"NC":nc(e.data.param[0],e.data.param[1],e.data.data);break;default:this.console.log("hello")}},c=(e=>{let t=e.map((t,a)=>e[a].cuisine_type);t=t.filter((e,a)=>t.indexOf(e)==a),self.postMessage(`{"method":"C","data":${JSON.stringify(t)}}`)}),n=(()=>{fu(" ").then(function(e){let t=e.map((t,a)=>e[a].neighborhood);t=t.filter((e,a)=>t.indexOf(e)==a),self.postMessage(`{"method":"N","data":${JSON.stringify(t)},"N":${JSON.stringify(e)}}`)})}),nc=((e,t,a)=>{let s=a;"all"!=e&&(s=s.filter(t=>t.cuisine_type==e)),"all"!=t&&(s=s.filter(e=>e.neighborhood==t)),self.postMessage(`{"method":"NC","data":${JSON.stringify(s)}}`)}),fu=(e=>fetch("http://localhost:1337/restaurants").then(e=>e.json()));